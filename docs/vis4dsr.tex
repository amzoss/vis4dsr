% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames*,x11names*}{xcolor}
%
\documentclass[
]{krantz}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
  \usepackage{amssymb}
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Visualization for Data Science with R},
  pdfauthor={Angela M. Zoss, Ph.D.},
  colorlinks=true,
  linkcolor=Maroon,
  filecolor=Maroon,
  citecolor=Blue,
  urlcolor=Blue,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.61,0.61,0.61}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.14,0.14,0.14}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.43,0.43,0.43}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage[bf,singlelinecheck=off]{caption}
\usepackage[scale=.8]{sourcecodepro}

\usepackage{framed,color}
\definecolor{shadecolor}{RGB}{248,248,248}

\renewcommand{\textfraction}{0.05}
\renewcommand{\topfraction}{0.8}
\renewcommand{\bottomfraction}{0.8}
\renewcommand{\floatpagefraction}{0.75}

\renewenvironment{quote}{\begin{VF}}{\end{VF}}
\let\oldhref\href
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}

\makeatletter
\newenvironment{kframe}{%
\medskip{}
\setlength{\fboxsep}{.8em}
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\renewenvironment{Shaded}{\begin{kframe}}{\end{kframe}}

\usepackage{makeidx}
\makeindex

\urlstyle{tt}

\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

\frontmatter
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{Visualization for Data Science with R}
\author{Angela M. Zoss, Ph.D.}
\date{2021-07-07}

\begin{document}
\maketitle

% you may need to leave a few empty pages before the dedication page

%\cleardoublepage\newpage\thispagestyle{empty}\null
%\cleardoublepage\newpage\thispagestyle{empty}\null
%\cleardoublepage\newpage
\thispagestyle{empty}

\begin{center}
To my family.

I'm so grateful for your support.
%\includegraphics{images/dedication.pdf}
\end{center}

\setlength{\abovedisplayskip}{-5pt}
\setlength{\abovedisplayshortskip}{-5pt}

{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\listoftables
\listoffigures
\hypertarget{proposal}{%
\chapter*{Proposal}\label{proposal}}


\textbf{Note: This book is a work in progress, with a full draft expected in April of 2022.}

This book combines instruction on writing R code with building basic graphic design skills in a way that is unusual in data science literature. The book will guide readers through a series of projects, each designed to cover both how visualizations work in R and how visualizations can be designed to have the greatest impact. Far more than a ``do this, then this'' checklist, this book will focus on building understanding, confidence, and the ability to transfer skills to other tools and design contexts. It will avoid technical jargon that our target audience is unlikely to have encountered before. To accommodate learners who don't have time to work through an entire book, each chapter will operate independently, covering a specific set of tasks that all make sense together as part of a visualization project. For those who would like extra practice, there will be several types of hands-on exercises, from those that are entirely prescribed to those that allow readers to apply new techniques to problems in their own areas.

The book will have solutions (in the form of completed code and sample output) for all exercises. While not a textbook, the book will also include a brief teacher's guide for courses that might want to use one or more chapters to structure lessons in a course. The book will also have a website, including links to Open Access content, solutions, and related resources like video tutorials.

The target audience of this book would be professionals who are having to learn data science techniques on the job, likely at an under-resourced organization or company. These newly minted data professionals may feel comfortable in Excel but have only just started to learn R for processing data. They have never used a programming language to build a visualization before, and even creating charts in Excel has often been a frustrating and mystifying process. They appreciate that R is freely available and are able to get started on a data science project, but the idea of creating publication-quality visualizations using only code is daunting.

Increasingly, programs of study with a focus on preparing students for professional careers in under-resourced fields, like public policy and even management, include courses on data analysis and communication using freely available software. This book, while not a textbook, could easily be used for a semester-long course, titled something like ``Practical data visualization for the modern workforce.'' A chapter could be covered each week, and larger projects could help learners synthesize chapters into a complete set of analyses and communication materials.

\hypertarget{why-read-this-book}{%
\section*{Why read this book}\label{why-read-this-book}}


This book will be:

\begin{itemize}
\tightlist
\item
  Written for non-academics, beginning programmers
\item
  Each chapter stands alone
\item
  Covers pressing modern issues, like accessibility and ethics
\item
  Focuses on freely available software
\item
  Combines hands-on exercises with basic graphic design principles
\end{itemize}

\hypertarget{structure-of-the-book}{%
\section*{Structure of the book}\label{structure-of-the-book}}


\begin{itemize}
\tightlist
\item
  Chapter \ref{reading-visualizations}: Overview of common visualizations and how to read them
\item
  Chapter \ref{building-basic-visualizations}: Building basic visualizations with ggplot2
\item
  Chapter \ref{text-data-visualizations}: Working with textual data in ggplot2
\item
  Chapter \ref{customizing-visualization-design}: Customizing the design of ggplot2 visualizations
\item
  Chapter \ref{ethical-design-practices}: Avoiding unethical design practices
\item
  Chapter \ref{print-publications}: Building ggplot2 visualizations into print publications
\item
  Chapter \ref{accessibility-for-visualizations}: Basic accessibility for static visualizations
\item
  Chapter \ref{interactive-visualizations}: Exploring interactivity in visualizations with plotly and crosstalk
\item
  Chapter \ref{rmarkdown-websites}: Using RMarkdown to build websites for projects
\item
  Chapter \ref{rmarkdown-dashboards}: Using RMarkdown to build dashboards for projects
\item
  Chapter \ref{usability-for-visualizations}: Basic usability for interactive visualizations
\item
  Chapter \ref{teachers-guide}: Teacher's guide
\end{itemize}

\hypertarget{software-information-and-conventions}{%
\section*{Software information and conventions}\label{software-information-and-conventions}}


I used the \textbf{knitr}\index{knitr} package \citep{xie2015} and the \textbf{bookdown}\index{bookdown} package \citep{R-bookdown} to compile my book. My R session information is shown below:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{xfun}\SpecialCharTok{::}\FunctionTok{session\_info}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## R version 4.0.3 (2020-10-10)
## Platform: x86_64-apple-darwin17.0 (64-bit)
## Running under: macOS Big Sur 10.16
## 
## Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
## 
## Package version:
##   base64enc_0.1.3   bookdown_0.21    
##   compiler_4.0.3    digest_0.6.27    
##   evaluate_0.14     glue_1.4.2       
##   graphics_4.0.3    grDevices_4.0.3  
##   highr_0.8         htmltools_0.5.1.1
##   jsonlite_1.7.2    knitr_1.31       
##   magrittr_2.0.1    markdown_1.1     
##   methods_4.0.3     mime_0.9         
##   rlang_0.4.10      rmarkdown_2.6    
##   rstudioapi_0.13   stats_4.0.3      
##   stringi_1.5.3     stringr_1.4.0    
##   tinytex_0.31      tools_4.0.3      
##   utils_4.0.3       xfun_0.20        
##   yaml_2.2.1
\end{verbatim}

Package names are in bold text (e.g., \textbf{rmarkdown}), and inline code and filenames are formatted in a typewriter font (e.g., \texttt{knitr::knit(\textquotesingle{}foo.Rmd\textquotesingle{})}). Function names are followed by parentheses (e.g., \texttt{bookdown::render\_book()}).

\begin{flushright}
Angela Zoss
\end{flushright}

\hypertarget{about-the-author}{%
\chapter*{About the Author}\label{about-the-author}}


\begin{figure}
\includegraphics[width=0.328\linewidth]{images/angela_zoss} \caption{Angela M. Zoss, Ph.D.}\label{fig:knitr-logo}
\end{figure}

Angela is the \href{https://library.duke.edu/about/directory/staff/angela.zoss}{Assessment \& Data Visualization Analyst} in the \href{https://library.duke.edu/about/depts/assessment-user-experience}{Assessment \& User Experience Department} in the \href{https://library.duke.edu/}{Duke University Libraries}. She has many years of experience in teaching and training, predominantly focusing on teaching data visualization to university students, faculty, and staff. She is also active in several open source development projects, including \href{https://github.com/folio-org/}{FOLIO} and \href{https://github.com/minicomp/wax}{Wax}.

\mainmatter

\hypertarget{reading-visualizations}{%
\chapter{Overview of common visualizations and how to read them}\label{reading-visualizations}}

\hypertarget{bar-chart}{%
\section{Bar Chart}\label{bar-chart}}

Figure \ref{fig:duke-school-bar}.

\begin{figure}
\includegraphics[width=0.9\linewidth]{vis4dsr_files/figure-latex/duke-school-bar-1} \caption{Total Duke Enrollment by School}\label{fig:duke-school-bar}
\end{figure}

\hypertarget{building-basic-visualizations}{%
\chapter{Building basic visualizations with ggplot2}\label{building-basic-visualizations}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{text-data-visualizations}{%
\chapter{Working with textual data in ggplot2}\label{text-data-visualizations}}

\emph{sample text}

Cleaning data: use duke\_enrollment (either by status or school) to talk about factors.
Have Semester, which is really a time-based variable. Need to combine with Year
to get the real sequence of enrollment.

\hypertarget{customizing-visualization-design}{%
\chapter{Customizing the design of ggplot2 visualizations}\label{customizing-visualization-design}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{ethical-design-practices}{%
\chapter{Avoiding unethical design practices}\label{ethical-design-practices}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{print-publications}{%
\chapter{Building ggplot2 visualizations into print publications}\label{print-publications}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{accessibility-for-visualizations}{%
\chapter{Basic accessibility for static visualizations}\label{accessibility-for-visualizations}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{interactive-visualizations}{%
\chapter{Exploring interactivity in visualizations with plotly and crosstalk}\label{interactive-visualizations}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{rmarkdown-websites}{%
\chapter{Using RMarkdown to build websites for projects}\label{rmarkdown-websites}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{rmarkdown-dashboards}{%
\chapter{Using RMarkdown to build dashboards for projects}\label{rmarkdown-dashboards}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{usability-for-visualizations}{%
\chapter{Basic usability for interactive visualizations}\label{usability-for-visualizations}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{teachers-guide}{%
\chapter{Teacher's guide}\label{teachers-guide}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\cleardoublepage

\hypertarget{appendix-appendix}{%
\appendix \addcontentsline{toc}{chapter}{\appendixname}}


\hypertarget{datasets}{%
\chapter{Datasets}\label{datasets}}

\hypertarget{duke-enrollment}{%
\section*{Duke Enrollment}\label{duke-enrollment}}


\href{https://doi.org/10.7924/r4db82p1j}{Duke enrollment}

Sample of Duke Enrollment By School dataset, Table \ref{tab:duke-school-tab}.

\begin{table}

\caption{\label{tab:duke-school-tab}A sample from the Duke Enrollment By School dataset.}
\centering
\begin{tabular}[t]{rlllllr}
\toprule
Year & Semester & Origin & Region & Sex & School & Count\\
\midrule
1970 & Fall & Alabama & United States & Female & Trinity & 11\\
1970 & Fall & Alabama & United States & Female & Graduate & 7\\
1970 & Fall & Alabama & United States & Female & Divinity & 1\\
1970 & Fall & Alabama & United States & Female & Law & 1\\
1970 & Fall & Alaska & United States & Female & Trinity & 1\\
\addlinespace
1970 & Fall & Alaska & United States & Female & Graduate & 1\\
\bottomrule
\end{tabular}
\end{table}

\hypertarget{coral-resilience-data}{%
\section*{Coral Resilience Data}\label{coral-resilience-data}}


\href{https://doi.org/10.7924/G8348HFP}{Protecting coral reefs}

Figure \ref{fig:coral-resilience-point}.

\begin{verbatim}
## Warning: Removed 1 rows containing missing values
## (geom_point).
\end{verbatim}

\begin{figure}
\includegraphics[width=0.9\linewidth]{vis4dsr_files/figure-latex/coral-resilience-point-1} \caption{Log of tissue loss by snail density}\label{fig:coral-resilience-point}
\end{figure}

\hypertarget{git-experience}{%
\section*{Git Experience}\label{git-experience}}


\href{https://osf.io/57tb8/}{A Behavioral Approach to Understanding the Git Experience}

\hypertarget{inclusiveness-index}{%
\section*{Inclusiveness Index}\label{inclusiveness-index}}


\href{https://belonging.berkeley.edu/inclusivenessindex/data-and-resources}{Inclusiveness Index}

\hypertarget{candidate-demographics}{%
\section*{Candidate Demographics}\label{candidate-demographics}}


\href{https://wholeads.us/research/rising-tide-ballot-demographics/}{Candidate Demographics}

Includes State, Candidate Name, Candidate Party, Office Name, White/Non-White, Race, Gender, Race/Gender Category, Office Level; 4 years (2012, 2014, 2016, 2018), over 40k records

\hypertarget{affinity-spending}{%
\section*{Affinity Spending}\label{affinity-spending}}


\href{https://github.com/OpportunityInsights/EconomicTracker}{Affinity Spending}

  \bibliography{book.bib,packages.bib}

\backmatter
\printindex

\end{document}
