% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
]{krantz}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Visualization for Data Science with R},
  pdfauthor={Angela M. Zoss, Ph.D.},
  colorlinks=true,
  linkcolor={Maroon},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.61,0.61,0.61}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.14,0.14,0.14}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.43,0.43,0.43}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage[bf,singlelinecheck=off]{caption}
\usepackage[scale=.8]{sourcecodepro}

\usepackage{framed,color}
\definecolor{shadecolor}{RGB}{248,248,248}

\renewcommand{\textfraction}{0.05}
\renewcommand{\topfraction}{0.8}
\renewcommand{\bottomfraction}{0.8}
\renewcommand{\floatpagefraction}{0.75}

\renewenvironment{quote}{\begin{VF}}{\end{VF}}
\let\oldhref\href
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}

\makeatletter
\newenvironment{kframe}{%
\medskip{}
\setlength{\fboxsep}{.8em}
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\renewenvironment{Shaded}{\begin{kframe}}{\end{kframe}}

\usepackage{makeidx}
\makeindex

\urlstyle{tt}

\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

\frontmatter
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{Visualization for Data Science with R}
\author{Angela M. Zoss, Ph.D.}
\date{2022-03-10}

\begin{document}
\maketitle

% you may need to leave a few empty pages before the dedication page

%\cleardoublepage\newpage\thispagestyle{empty}\null
%\cleardoublepage\newpage\thispagestyle{empty}\null
%\cleardoublepage\newpage
\thispagestyle{empty}

\begin{center}
To my family.

I'm so grateful for your support.
%\includegraphics{images/dedication.pdf}
\end{center}

\setlength{\abovedisplayskip}{-5pt}
\setlength{\abovedisplayshortskip}{-5pt}

{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\listoffigures
\listoftables
\hypertarget{proposal}{%
\chapter*{Proposal}\label{proposal}}


\textbf{Note: This book is a work in progress, with a full draft expected in April of 2022.}

This book combines instruction on writing R code with building basic graphic design skills in a way that is unusual in data science literature. The book will guide readers through a series of projects, each designed to cover both how visualizations work in R and how visualizations can be designed to have the greatest impact. Far more than a ``do this, then this'' checklist, this book will focus on building understanding, confidence, and the ability to transfer skills to other tools and design contexts. It will avoid technical jargon that our target audience is unlikely to have encountered before. To accommodate learners who don't have time to work through an entire book, each chapter will operate independently, covering a specific set of tasks that all make sense together as part of a visualization project. For those who would like extra practice, there will be several types of hands-on exercises, from those that are entirely prescribed to those that allow readers to apply new techniques to problems in their own areas.

The book will have solutions (in the form of completed code and sample output) for all exercises. While not a textbook, the book will also include a brief teacher's guide for courses that might want to use one or more chapters to structure lessons in a course. The book will also have a website, including links to Open Access content, solutions, and related resources like video tutorials.

The target audience of this book would be professionals who are having to learn data science techniques on the job, likely at an under-resourced organization or company. These newly minted data professionals may feel comfortable in Excel but have only just started to learn R for processing data. They have never used a programming language to build a visualization before, and even creating charts in Excel has often been a frustrating and mystifying process. They appreciate that R is freely available and are able to get started on a data science project, but the idea of creating publication-quality visualizations using only code is daunting.

Increasingly, programs of study with a focus on preparing students for professional careers in under-resourced fields, like public policy and even management, include courses on data analysis and communication using freely available software. This book, while not a textbook, could easily be used for a semester-long course, titled something like ``Practical data visualization for the modern workforce.'' A chapter could be covered each week, and larger projects could help learners synthesize chapters into a complete set of analyses and communication materials.

\hypertarget{why-read-this-book}{%
\section*{Why read this book}\label{why-read-this-book}}


This book will be:

\begin{itemize}
\tightlist
\item
  Written for non-academics, beginning programmers
\item
  Each chapter stands alone
\item
  Covers pressing modern issues, like accessibility and ethics
\item
  Focuses on freely available software
\item
  Combines hands-on exercises with basic graphic design principles
\end{itemize}

\hypertarget{structure-of-the-book}{%
\section*{Structure of the book}\label{structure-of-the-book}}


\begin{itemize}
\tightlist
\item
  Chapter \ref{reading-visualizations}: Overview of common visualizations and how to read them
\item
  Chapter \ref{building-basic-visualizations}: Building basic visualizations with ggplot2
\item
  Chapter \ref{text-data-visualizations}: Working with textual data in ggplot2
\item
  Chapter \ref{customizing-visualization-design}: Customizing the design of ggplot2 visualizations
\item
  Chapter \ref{ethical-design-practices}: Avoiding unethical design practices
\item
  Chapter \ref{print-publications}: Building ggplot2 visualizations into print publications
\item
  Chapter \ref{accessibility-for-visualizations}: Basic accessibility for static visualizations
\item
  Chapter \ref{interactive-visualizations}: Exploring interactivity in visualizations with plotly and crosstalk
\item
  Chapter \ref{rmarkdown-websites}: Using RMarkdown to build websites for projects
\item
  Chapter \ref{rmarkdown-dashboards}: Using RMarkdown to build dashboards for projects
\item
  Chapter \ref{usability-for-visualizations}: Basic usability for interactive visualizations
\item
  Chapter \ref{teachers-guide}: Teacher's guide
\end{itemize}

\hypertarget{software-information-and-conventions}{%
\section*{Software information and conventions}\label{software-information-and-conventions}}


I used the \textbf{knitr}\index{knitr} package \citep{xie2015} and the \textbf{bookdown}\index{bookdown} package \citep{R-bookdown} to compile my book. My R session information is shown below:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{xfun}\SpecialCharTok{::}\FunctionTok{session\_info}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## R version 4.1.2 (2021-11-01)
## Platform: aarch64-apple-darwin20 (64-bit)
## Running under: macOS Monterey 12.2.1
## 
## Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
## 
## Package version:
##   base64enc_0.1.3 bookdown_0.24   bslib_0.3.1    
##   cli_3.2.0       compiler_4.1.2  digest_0.6.29  
##   evaluate_0.15   fastmap_1.1.0   fs_1.5.2       
##   glue_1.6.2      graphics_4.1.2  grDevices_4.1.2
##   highr_0.9       htmltools_0.5.2 jquerylib_0.1.4
##   jsonlite_1.8.0  knitr_1.37      magrittr_2.0.2 
##   methods_4.1.2   R6_2.5.1        rappdirs_0.3.3 
##   rlang_1.0.2     rmarkdown_2.12  rstudioapi_0.13
##   sass_0.4.0      stats_4.1.2     stringi_1.7.6  
##   stringr_1.4.0   tinytex_0.37    tools_4.1.2    
##   utils_4.1.2     xfun_0.30       yaml_2.3.5
\end{verbatim}

Package names are in bold text (e.g., \textbf{rmarkdown}), and inline code and filenames are formatted in a typewriter font (e.g., \texttt{knitr::knit(\textquotesingle{}foo.Rmd\textquotesingle{})}). Function names are followed by parentheses (e.g., \texttt{bookdown::render\_book()}).

\begin{flushright}
Angela Zoss
\end{flushright}

\hypertarget{about-the-author}{%
\chapter*{About the Author}\label{about-the-author}}


\begin{figure}
\includegraphics[width=0.328\linewidth]{images/angela_zoss} \caption{Angela M. Zoss, Ph.D.}\label{fig:knitr-logo}
\end{figure}

Angela is the \href{https://library.duke.edu/about/directory/staff/angela.zoss}{Assessment \& Data Visualization Analyst} in the \href{https://library.duke.edu/about/depts/assessment-user-experience}{Assessment \& User Experience Department} in the \href{https://library.duke.edu/}{Duke University Libraries}. She has many years of experience in teaching and training, predominantly focusing on teaching data visualization to university students, faculty, and staff. She is also active in several open source development projects, including \href{https://github.com/folio-org/}{FOLIO} and \href{https://github.com/minicomp/wax}{Wax}.

\mainmatter

\hypertarget{reading-visualizations}{%
\chapter{Overview of common visualizations and how to read them}\label{reading-visualizations}}

This book will cover how to create a variety of visualizations using R. One of the
first things you should do to improve your skills creating visualizations is to
become familiar with the kinds of visualizations that are possible and the different
features of each.

Effective visualization design relies on a solid understanding
of how data properties, visualization types, and audience characteristics interact
to help people make sense of a visualization. In this chapter, we'll look at
a series of common visualization types, and we'll break down how each is meant to
be read. Understanding these basic visualization types will create a solid foundation for
communicating your data science work to a broad audience.

\hypertarget{visualization-components}{%
\section{Visualization components}\label{visualization-components}}

As we discuss different visualizations, we will also be talking about different
components within the visualizations. In figure \ref{fig:vis-components} below,
the major components of the visualization are labeled: the main title, the subtitle,
the x axis title, the y axis title, the panel, the horizontal and vertical gridlines,
and the axis labels and tick marks for both axes. Almost all of the visualizations we cover
in this book will use these basic components.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/vis-components-1.pdf}
\caption{\label{fig:vis-components}Visualization components, labeled.}
\end{figure}

In this set of basic visualization components, we see two components labeled as an axis.
These axes are called the x and y axes, and they always appear in these positions:
the x axis always goes left to right, and the y axis always goes up and down.

\hypertarget{bar-chart}{%
\section{Bar Chart}\label{bar-chart}}

The bar chart is possibly the most common type of visualization. In this type
of visualization, the basic shape being used to represent data values is a rectangle.
In a traditional bar chart, each rectangle (or bar) has exactly the same width,
and the height of the bar is representative of some data value. To create a simple
bar chart, the data set should have one column that contains textual (or categorical)
data and one column that contains numerical data. A common way to create these two columns
is to start with one categorical data column and count the number of records for each
category to create the numerical column.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bar-1.pdf}
\caption{\label{fig:sample-bar}A sample bar chart.}
\end{figure}

In the sample bar chart above, the categorical variable is displayed on the
x axis and the numerical variable is displayed on the y axis. This results in a
classic style of bar chart where each bar has the same width and the heights are
proportionate to a data value. Each bar has a starting value of zero on the y axis.
Each bar travels upward from zero and stops at the correct data value.

When reading this visualization, we are comparing the lengths of bars in order to
understand patterns within the numerical data values from our data set. The power
of the bar chart lies in how precisely we can detect differences in the
end points of the bars. This is something that people naturally do quite well
when all of the bars start at the same lowest point, or baseline.

Bar charts are especially effective if the bars that have small differences in
lengths appear close to each other. In the above chart, this is accomplished by
arranging the bars so they appear with the highest data values on the left and
the lowest data values on the right.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bar-neg-1.pdf}
\caption{\label{fig:sample-bar-neg}A sample bar chart with both positive and negative values.}
\end{figure}

Here is another example of a bar chart where the data values include both positive
and negative values. For data values that are negative, the bar travels downward
from zero and stops at the correct data value. The x axis title and labels appear
at the bottom of the panel, below the lowest data values.

For stylistic reasons, bar charts may also appear with the bars oriented horizontally
instead of vertically. In that case, each bar will have the same height, and the widths
of the bars will vary based on the data values. The text (or categorical) axis will then
be the y axis, and the numerical axis will be the x axis.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bar-horizontal-1.pdf}
\caption{\label{fig:sample-bar-horizontal}A sample bar chart, with the bars oriented horizonally.}
\end{figure}

\hypertarget{variations}{%
\subsection{Variations}\label{variations}}

Sometimes, we may have data that would work well for a bar chart, but we may want to
explore a variation that would change the basic shape of the chart. There is one main
variation of a bar chart: the lollipop chart.

\hypertarget{lollipop-plot}{%
\subsubsection{Lollipop plot}\label{lollipop-plot}}

The lollipop plot is a simple variation on the bar chart. In a lollipop plot,
the bars are replace by a long line with a circle at the end, creating something
that looks like a lollipop. Apart from the different shapes used, the lollipop plot
works just like a bar chart. The circles draw attention to the data value, but the
lines extending to the axis reinforce the length comparisons.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-lollipop-1.pdf}
\caption{\label{fig:sample-lollipop}A sample lollipop plot.}
\end{figure}

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-lolli-neg-1.pdf}
\caption{\label{fig:sample-lolli-neg}A sample lollipop plot with both positive and negative values.}
\end{figure}

\hypertarget{add-a-variable-bar-charts-with-color}{%
\subsection{Add a variable: Bar charts with color}\label{add-a-variable-bar-charts-with-color}}

A simple bar chart includes one categorical variable and one numerical variable.
Sometimes, however, it is useful to explore the patterns in relation to a second
categorical variable. Adding another categorical variable to a bar chart usually
means using color to represent the extra variable.

With a stacked bar chart, the additional variable is used to segment the bars into
separate, colored regions. In this example, the bar for each continent is subdivided
into groups of countries based on their values for Inclusive Index.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-stacked-bar-1.pdf}
\caption{\label{fig:sample-stacked-bar}A sample stacked bar chart.}
\end{figure}

With this stacked bar chart, you can still see the total number of records for each Continent,
but what happens when you try to compare the different segments inside the
bar chart? Starting at the bottom, it seems to work out okay. All of the bars
for the ``No data'' category start at the same baseline (the x axis), and we can
read these segments like a normal bar chart. But what happens with the ``Low'' segments
right above them? And the ``Medium-Low'' segments above those? Every time we have
a group of segments that aren't lined up with each other, we have to try to guess
how tall the bar is in comparison to the other bars in the group. The farther
apart the segments are, the harder it is to make that comparison.

Another variation of the stacked bar chart is the ``filled'' stacked bar chart.
Instead of using the raw counts to determine the lengths of the bars, in the
filled stacked bar chart, the full bars are all stretched to have the same height,
and each segment becomes the percentage of the records in each bar. (Notice how
the y axis changes from ``Number'' to ``Percentage.'') This is useful if the percentages
matter more than the raw counts, but it doesn't fix any of the concerns with
comparing different segments without a common baseline.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-filled-stacked-bar-1.pdf}
\caption{\label{fig:sample-filled-stacked-bar}A sample filled stacked bar chart.}
\end{figure}

An alternative to the stacked bar chart is called the grouped bar chart. In the
grouped bar chart, every segment starts from the x axis. Each continent forms a
group of bars, and each option of the Inclusiveness Index is a separate bar.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-grouped-bar-1.pdf}
\caption{\label{fig:sample-grouped-bar}A sample grouped bar chart.}
\end{figure}

\hypertarget{dumbbell-plot}{%
\subsubsection{Dumbbell plot}\label{dumbbell-plot}}

Stacked and grouped bar charts show some of the limitations of bar charts for
making complex comparisons. The rectangles in the bar chart take up a large amount
of space. Think back to the lollipop plot, where it's the circles that directly
represent the data value. Converting bars to something like circles opens up the
ability to make more direct comparisons.

For example, let's say we want to compare two continents more directly: Asia and Europe.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-grouped-bar-2-cont-1.pdf}
\caption{\label{fig:sample-grouped-bar-2-cont}A grouped bar chart focusing on two continents.}
\end{figure}

This chart groups all of the segments by continent, which makes it easy to compare
different Index categories within a single continent. What if we want to bring more
attention to the difference between continents for each category? We could always
switch which category is the primary division on the x axis and which is
represented by color.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-grouped-bar-2-cont-switched-1.pdf}
\caption{\label{fig:sample-grouped-bar-2-cont-switched}The same grouped bar chart with a different arrangement of the categorical variables.}
\end{figure}

This improves our ability to compare the continents directly because the bars are
directly next to each other. The amount of space the bars take up is still pretty
large, though. If we combine this chart with something like a lollipop plot, we
get one last variation: a dumbbell plot.

With a dumbbell plot, we use a circle to represent the data values, just like the
lollipop. Instead of having a line that extends all the way to the axis, though,
we use a line to connect the two dots in each category of Inclusiveness Index.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-dumbbell-1.pdf}
\caption{\label{fig:sample-dumbbell}A dumbbell plot comparing two continents.}
\end{figure}

With a dumbbell plot, there are three main trends we can explore in the chart. We
can focus on the green circles to see the pattern in the Asia data values. We can
focus on the blue circles to see the pattern in the Europe data values. Finally,
we can focus on the lengths of the lines connecting the circles to compare the
continents at each level of the Inclusiveness Index. This chart time is an efficient
way to compare these data values, but remember that it can be difficult to compare
the lengths of shapes when they don't have the same baseline.

\hypertarget{scatter-plot}{%
\section{Scatter Plot}\label{scatter-plot}}

The scatter plot is another common visualization type. This type of visualization
displays one circle for each record in the data set. The position of the circle is
based on the values of two different numerical variables, one of which is associated
with the x axis and the other of which is associated with the y axis.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-scatter-1.pdf}
\caption{\label{fig:sample-scatter}A sample scatter plot.}
\end{figure}

This visualization is a way to show a relationship between the two numerical variables
displayed on the axes. A relationship between the variables means that a change in one
variable would predict a specific kind of change in the other variable. For example,
one kind of relationship is a positive correlation, which means that an increase in
one variable is associated with an increase in the other variable. Points with higher
values on the x axis tend to have higher values on the y axis. Similarly, points
with lower values on one axis tend to have lower values on the other axis.

When two numerical variables have a positive correlation, it shows up on the scatter
plot as a diagonal pattern of circles, from the bottom left corner of the chart to
the upper right corner of the chart. The closer it looks to a straight line, rather
than a diffuse pattern, the stronger the relationship is.

There are a few types of patterns that might show up when looking at a scatter plot.
Instead of a positive correlation, the variables could have a negative correlation:
high values of one variable are associated with low values of the other variable. This
relationship shows up on the scatter plot as a diagonal patter from the top left
corner to the bottom right corner.

Both positive and negative correlations are linear relationships - they look like
lines on the chart. There are also nonlinear relationships that look like different
kinds of curves. An exponential relationship looks like a curve that starts
mostly horizontal and then curves up dramatically, ending up almost vertical.
A logarithmic relationship is a curve that starts mostly vertical and bends
over dramatically, ending up almost horizontal. Other curvilinear patterns of dots
might be better represented by other mathematical functions.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-relationships-1.pdf}
\caption{\label{fig:sample-relationships}Different relationships between numerical variables.}
\end{figure}

What does it mean to see a shape in a scatter plot? A detectable shape in a scatter
plot is a suggestion that there might be a statistically powerful relationship
between these variables. The chart, however, is not a substitute for a statistical
analysis. Using statistical analyses to explore the relationship between two variables
is called modeling.

Sometimes a scatter plot will be combined with a statistical model to explore
the connection between the data points and an ideal relationship. For example, you
may see a scatter plot where there is a correlation between the variables
combined with a linear model (represented by a straight line drawn on top of the points).

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-scatter-lm-1.pdf}
\caption{\label{fig:sample-scatter-lm}A sample scatter plot with a linear model overlaid over the points.}
\end{figure}

When you see a line on a scatter plot like this, it is showing the linear model
that best represents the relationship between the x and y variables. In this case,
the relationship between the variables is not very strong, so the points look more
like a cloud than the straight line of the linear model.

\hypertarget{variations-1}{%
\subsection{Variations}\label{variations-1}}

The following charts are variations on a scatter plot. They build on a basic
scatter plot by summarizing the data and making it easier to see patterns.

\hypertarget{contour-or-density-plot}{%
\subsubsection{Contour or density plot}\label{contour-or-density-plot}}

Sometimes a dataset is too large for a scatter plot to be effective. With a large
number of data points, there can be too much overlap between the circles to see
the dominant patterns. In this instance, it can be helpful to calculate the density
of data points across the chart and visualize the density instead of (or in addition to)
the points. This is called a contour or density plot.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-contour-1.pdf}
\caption{\label{fig:sample-contour}A sample contour plot with scatter plot points on top.}
\end{figure}

\hypertarget{binned-scatter-plot}{%
\subsubsection{Binned scatter plot}\label{binned-scatter-plot}}

In a contour plot, the density calculation detects regions of high density in a
scatter plot. Another way of summarizing the distribution of points across the plot
is to divide the plot into an even grid and then to count the points inside each
region. This is often called ``binning.'' Common types of binning are rectangular
(splitting the plot up using a rectangular grid) and hexagonal (splitting the
plot up using a grid of interlocking hexagons).

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bin2d-1.pdf}
\caption{\label{fig:sample-bin2d}A sample scatter plot binned with a rectangular grid.}
\end{figure}

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-hex-1.pdf}
\caption{\label{fig:sample-hex}A sample scatter plot binned with a hexagonal grid.}
\end{figure}

\hypertarget{add-a-variable-scatter-plot-with-color}{%
\subsection{Add a variable: Scatter plot with color}\label{add-a-variable-scatter-plot-with-color}}

So far, our scatter plots have still only been used to visualize the relationship
between two numerical variables. In some datasets, it can be helpful to consider
how an additional variable interacts with the scatter plot pattern. One way to
incorporate an additional variable is to change the color of the points in the
scatter plot according to the third variable. For example, you can associate the
color of the points with a categorical variable to show whether different subsets
of the points cluster in different parts of the graph.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-scatter-color-1.pdf}
\caption{\label{fig:sample-scatter-color}A sample scatter plot with color categories.}
\end{figure}

In the above chart, the color represents the continent; that is, each continent shows
as a separate color. We're looking for a relationship between the pattern of the colors
and the spatial pattern of the points. In this chart, the points associated with
Europe do overall seem to cluster in the upper-right corner of the graph, meaning that
on the whole the European countries tend to rate highly on both the Z-score value
for religious inclusiveness and the overall inclusiveness score. African countries
also tend to have high scores for religious inclusiveness, but they don't rate as
highly for overall inclusiveness.

You can also use color to visualize a third numerical variable instead of a
categorical variable.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-scatter-color-grad-1.pdf}
\caption{\label{fig:sample-scatter-color-grad}A sample scatter plot with a color gradient.}
\end{figure}

In this chart, the values in the ``Z-score, Gender'' variable are associated with
a color gradient. Positive values of this new variable show in the chart as
increasingly darker shades of purple. Negative values show as increasingly darker
shades of green.

With any chart, adding more variables runs the risk of creating visual confusion
that makes it harder (not easier) to see interesting patterns. For example,
in the chart above, we see that purples mostly occur on the top half of the chart
and greens on the lower half of the chart. Beyond that, though, it's hard to identify
a strong relationship between the strength of the color values and either of the axes.
If colors are not concentrating in a particular region of the plot, adding a third
variable may not be necessary for this chart.

\hypertarget{add-a-variable-bubble-chart}{%
\subsection{Add a variable: Bubble chart}\label{add-a-variable-bubble-chart}}

A bubble chart is another way of adding a third variable to a scatter plot. Unlike
adding color to the chart, however, a bubble plot works best when you are adding a
third numerical variable. That's because in a bubble plot, the additional variable
is represented by changing the size of the bubble. Representing a categorical variable
by changing the size of the circle isn't as natural as using different colors. It's
hard to focus on all of the bubbles of a particular size to try to identify clusters.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bubble-cat-1.pdf}
\caption{\label{fig:sample-bubble-cat}A sample bubble chart with categories.}
\end{figure}

If you use a numerical variable to size the bubbles, the goal of the chart becomes
similar to when color is used to add a third numerical variable: explore whether
the sizes of the bubbles changes in a meaningful way in relation to the axes.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bubble-grad-1.pdf}
\caption{\label{fig:sample-bubble-grad}A sample bubble chart with a size gradient.}
\end{figure}

There is one property of bubble charts that is different from scatter plots with
added color. When you have a variable that has both positive and negative values,
it may be a slightly less natural fit for the size of the bubbles. The size of an
object like a circle is naturally a positive value. A circle doesn't itself have
negative size. If the variable uses negative and positive in an abstract sense,
though, the size of a bubble can still help differentiate low and high values.

With bubble charts, color is still available to display another variable if there
is anything else that might interact with the three numerical variables.

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/sample-bubble-color-1.pdf}
\caption{\label{fig:sample-bubble-color}A sample bubble chart with color categories.}
\end{figure}

Be cautious, again, with adding too many variables to a single chart. If adding
a variable doesn't reveal anything new about the data, it is probably getting in the
way of a pattern that does exist.

\hypertarget{line-chart}{%
\section{Line Chart}\label{line-chart}}

A line chart is typically used to explore the change in a numerical variable over time.
The variable is measured over a series of time points (for example, years, days, seconds).
The time variable is associated with the x axis of the chart, and the numerical variable
is associated with the y axis. Instead of placing a circle for each record in the
data set, like you would see in a scatter plot, the chart uses a line that travels
through all of the correct data points. Connecting related points with a line
gives the data a sense of continuity and motion. Line charts are often used to look
for dramatic increases or decreases in the numerical value at particular points in time.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-5-1.pdf}

Line charts can show change over time for one entity or for many entities. In the example
above, there is a single line representing a country. You can also use a line chart
to show multiple lines at once. For example, if each line is a country, you can display
many countries on the same chart to allow for comparisons between countries as well as
over time.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-6-1.pdf}

As with the other visualizations we've looked at, it is easy to create a line chart
with so much data that it is hard to see patterns. The goal of the line chart is to
show trends over time, but if all of the lines look flat, or if there are so many
lines that you cannot detect the variations that are there, it may be useful to include
only a small number of the lines at once, or to combine groups of the lines together.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-7-1.pdf}

In this version of the chart, the countries from each continent have been combined
into a single line using the mean of the countries' values for each year. Another way to
reduce the number of lines in the line chart would have been to limit the chart to
the countries from a single continent.

\emph{TODO: this has become about creating visualizations, instead of reading them!!}

Also notice that when you limit the number of lines you use in a line chart, it
becomes much easier to identify each line with a label. Not every visualization
includes labels for every data point. For example, in a scatter plot, you may not
label the points if the important information is the overall trend. You may have
the same situation in a line chart if all of the lines are moving in a similar
direction, or they all experience a dramatic change at the same point. If it is
important to identify specific lines in your chart, however, it is best to use only
a few lines so that it is possible to identify each line directly and trace it
individually across the entire chart.

\hypertarget{using-circles-to-highlight-the-position-of-the-data-points}{%
\subsubsection{Using circles to highlight the position of the data points}\label{using-circles-to-highlight-the-position-of-the-data-points}}

Some line charts include circles along the lines. These circles indicate that the
data set included a value at that point in the line. This can be especially useful
if lines travel through data at irregular time intervals. For example, if the data
is collected every year except that there was a gap of three years in the middle,
the circles would clearly indicate which years are included in the dataset and which
are not. Normally the lines on a line chart will connect straight from one point in
time to the next point in time, and unless the line turns up or down, it can be
hard to know exactly where the real data values are.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-8-1.pdf}

\hypertarget{dual-encoding-names-with-color}{%
\subsubsection{Dual encoding names with color}\label{dual-encoding-names-with-color}}

Sometimes line charts use color to differentiate the lines from each other. Each line
gets its own color, and the color legend clarifies the name of the line. Even for
charts where it is important to individually identify the lines, it can quickly
become overwhelming to see a separate color for each line. Even a small number of
lines can require a set of colors that include colors that are difficult to tell
apart from each other. In additional, it can be confusing and time consuming to have
to consult a legend to identify an individual line. While color may be a nice
complement to a simple line chart, it is easier to read a line chart when the lines
are labeled directly instead of relying on a legend.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-9-1.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-9-2.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-9-3.pdf}

\hypertarget{variations-2}{%
\subsection{Variations}\label{variations-2}}

There is one primary variation of the line chart: the area chart.

\hypertarget{area-chart}{%
\subsubsection{Area chart}\label{area-chart}}

An area chart looks like a line chart where everything under the line, down to the
x axis, has been colored in. If you took a typical line chart and color everything
in under each line, though, you would have overlapping colors for much of the chart.
It is more common to see a stacked area chart, which follows the same principles as
a stacked bar chart. One line is chosen as the bottom line, and the values for
each additional line are stacked on top of that line. The top most line shows the
overall total of the data in the chart. For this reason, area charts should be used
to show data points that can be added together, like counts.

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-10-1.pdf}

Stacked area charts raise concerns that are similar to the ones raised by stacked
bar charts. The values for the lowest line and the overall total are easy to
read, but the inner areas do not have a consistent baseline. It can be very difficult
to see if an area has its own decrease at a particular year or if it is just
reacting to a decrease in one of the lines below it.

\hypertarget{add-a-variable-line-chart-with-color}{%
\subsection{Add a variable: Line chart with color}\label{add-a-variable-line-chart-with-color}}

\begin{itemize}
\tightlist
\item
  alternately, you can use color to layer an additional variable on top of the lines
\item
  usually a way to create groups of lines that are all part of the same category
\item
  or that are showing similar data patterns
\end{itemize}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-11-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-12-1.pdf}

\hypertarget{pie-chart}{%
\section{Pie Chart}\label{pie-chart}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-13-1.pdf}

\hypertarget{variations-3}{%
\subsection{Variations}\label{variations-3}}

\hypertarget{donut-chart}{%
\subsubsection{Donut chart}\label{donut-chart}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-14-1.pdf}

\hypertarget{waffle-chart}{%
\subsubsection{Waffle chart}\label{waffle-chart}}

\hypertarget{add-a-variable-small-multiples}{%
\subsection{Add a variable: Small multiples}\label{add-a-variable-small-multiples}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-15-1.pdf}

\hypertarget{heat-map}{%
\section{Heat Map}\label{heat-map}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-16-1.pdf}

\hypertarget{variations-4}{%
\subsection{Variations}\label{variations-4}}

\hypertarget{circle-matrix}{%
\subsubsection{Circle matrix}\label{circle-matrix}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-17-1.pdf}

\hypertarget{add-a-variable-bubble-matrix}{%
\subsection{Add a variable: Bubble matrix}\label{add-a-variable-bubble-matrix}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-18-1.pdf}

\hypertarget{histogram}{%
\section{Histogram}\label{histogram}}

Largely one-variable, one-axis plots

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-19-1.pdf}

\hypertarget{variations-5}{%
\subsection{Variations}\label{variations-5}}

\hypertarget{dot-plot}{%
\subsubsection{Dot plot}\label{dot-plot}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-20-1.pdf}

\hypertarget{frequency-polygon}{%
\subsubsection{Frequency Polygon}\label{frequency-polygon}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-21-1.pdf}

\hypertarget{density}{%
\subsubsection{Density}\label{density}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-22-1.pdf}

\hypertarget{box-plot}{%
\subsubsection{Box Plot}\label{box-plot}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-23-1.pdf}

\hypertarget{centered-dot-plot-bee-swarm}{%
\subsubsection{Centered dot plot / Bee swarm}\label{centered-dot-plot-bee-swarm}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-24-1.pdf}

\hypertarget{violin-plot}{%
\subsubsection{Violin plot}\label{violin-plot}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-25-1.pdf}

\hypertarget{add-a-variable-separate-groups-on-x-axis}{%
\subsection{Add a variable: Separate groups on x axis}\label{add-a-variable-separate-groups-on-x-axis}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-26-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-27-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-28-1.pdf}

\hypertarget{add-a-variable-separate-groups-with-color}{%
\subsection{Add a variable: Separate groups with color}\label{add-a-variable-separate-groups-with-color}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-29-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-30-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-31-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-32-1.pdf}

\hypertarget{maps}{%
\section{Maps}\label{maps}}

\hypertarget{choropleth}{%
\subsection{Choropleth}\label{choropleth}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-33-1.pdf}

\hypertarget{proportional-symbol-map}{%
\subsection{Proportional Symbol Map}\label{proportional-symbol-map}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-34-1.pdf}

\hypertarget{building-basic-visualizations}{%
\chapter{Building basic visualizations with ggplot2}\label{building-basic-visualizations}}

In Chapter \ref{reading-visualizations}, we covered a variety of visualization types
and how to read them. All
of those visualizations were created using an R package called \texttt{ggplot2}. This
package is a very common way of creating visualizations in R, partly because it is
so versatile. Once you understand the basics of how to create \texttt{ggplot2} visualizations,
you can use the same techniques to produce an enormous range of visualizations.

In this chapter, we'll focus on the basic components of the R code you need to write
to create \texttt{ggplot2} visualizations. We'll use the word \emph{syntax} to refer to the
components you need to create and the way you need to organize those components.
Instead of trying to create a bunch of different visualizations, we start with one
simple visualization and keep adding to it to learn more about \texttt{ggplot2} features.
In future chapters we will cover other kinds of visualizations and more advanced
\texttt{ggplot2} features.

\hypertarget{basic-ggplot2-syntax}{%
\section{Basic ggplot2 syntax}\label{basic-ggplot2-syntax}}

To learn the syntax of a \texttt{ggplot2} visualization, it helps to understand how
\texttt{ggplot2} thinks of a visualization (Figure \ref{fig:ggplot-diagram}).

\begin{figure}
\centering
\includegraphics{vis4dsr_files/figure-latex/ggplot-diagram-1.pdf}
\caption{\label{fig:ggplot-diagram}The ggplot2 model of a visualization.}
\end{figure}

In \texttt{ggplot2},
a visualization is called a ``plot.'' Each plot uses one or more visualization types
like the ones we learned in Chapter \ref{reading-visualizations} (e.g., bar
chart, scatter plot). The visualization type is called a ``geom,'' which is short
for geometric object. You can think of the geom as the shape of the visual elements
in the plot.

Each possible geom has default visual properties. This makes sense if we step back
and think about a geom as a type of visualization. Every bar chart, for example,
has a few things in common with every other bar chart: the numbers are represented
by rectangles that vary in length, and there is a separate bar for each value of
a categorical variable. To say that another way, a bar chart by default has one
or more bars lined up along one axis, and the other axis allows you to compare
the lengths of those bars. The default visual properties for a bar chart, then,
are that it has two axes: one that serves to organize the bars, and one that
serves to measure the lengths.

In \texttt{ggplot2}, the visual properties associated with each geom are called ``aesthetics.''
The aesthetics vary a bit from geom to geom, but there are some aesthetics that
are required for almost all geoms. The most common aesthetics are called ``x'' and ``y'',
and they stand for the x and y axes. Most geoms use an x axis to organize
one variable and a y axis to organize another. There are plenty of other optional
aesthetics, however, that describe how a geom should look. The bars
in a bar chart don't just have a position on the x axis and a length on the y axis.
They also have a fill color, a fill transparency value, a border color, a border
size, and a border line type.

I think of a geom's aesthetics as questions on a form that I need to fill out for the
plot to work correctly. If something is option, like the fill color, I don't really
have to answer that question on the form. There is a default value \texttt{ggplot2} will
use if I don't have a specific value in mind. For the x and y axes, though, \texttt{ggplot2}
does not have a default. Those are required, and \texttt{ggplot2} will give me an error
if I try to make a plot without providing that information.

How do I tell \texttt{ggplot2} what values to use for the aesthetics, like the x and y
axes? I need to create a ``mapping'' between the dataset I want to visualize and the
geom's aesthetics. Again, I think if we step back, this is pretty logical. We need
to get our data into our visualization. Different parts of the data need to be
associated with different parts of our visualization. That process of creating
associations between our dataset and our visualization is called mapping. In \texttt{ggplot2},
we will map variables from our dataset to aesthetics in our geom one by one. For
each aesthetic we want to specify, we will pick a variable and map it to that
aesthetic. In a bar chart with vertical bars, we would map a categorical variable
to the x aesthetic and a numerical variable to the y aesthetic. For horizontal bars,
the categorical variable would be mapped to the y aesthetic and the numerical
variable to the x aesthetic.

Looking again at our diagram in figure \ref{fig:ggplot-diagram}, we can summarize
it like this. A plot contains one or more geoms that specify the visualization type.
A geom determines the required and optional aesthetics for that part of the plot.
To bring data into the visualization, create a mapping between variables in a dataset
and the (required or options) aesthetics of the geom.

Now that we understand how \texttt{ggplot2} thinks about the structure of a plot, we can
turn to the code that we need to write.

\hypertarget{simple-plot-template}{%
\subsection{Simple Plot Template}\label{simple-plot-template}}

In R, there is often many different ways of writing code to accomplish your goals.
The same is true in \texttt{ggplot2}. We'll start with learning a template for a simple
\texttt{ggplot2} plot, and then we will learn some additional ways of writing the code
that may be easier or work better for different kinds of visualizations.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# start with the main plot function and set the data frame}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ data\_frame) }\SpecialCharTok{+} 
  
\CommentTok{\# next add a geometry layer and create the mapping between data frame and aesthetics}
  \FunctionTok{geom\_...}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{aesthetics1 =}\NormalTok{ data\_field1, }\AttributeTok{aesthetics2 =}\NormalTok{ data\_field))}
\end{Highlighting}
\end{Shaded}

\hypertarget{example-vineyards-in-the-finger-lakes-region-of-new-york-state}{%
\section{Example: Vineyards in the Finger Lakes Region of New York State}\label{example-vineyards-in-the-finger-lakes-region-of-new-york-state}}

\hypertarget{step-1-add-main-plot-function}{%
\subsection{Step 1: Add Main Plot Function}\label{step-1-add-main-plot-function}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggpot-main-function-1.pdf}

\hypertarget{step-2-set-the-data}{%
\subsection{Step 2: Set the Data}\label{step-2-set-the-data}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards)}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-set-data-1.pdf}

\hypertarget{step-3-choose-a-shape-layer}{%
\subsection{Step 3: Choose a shape layer}\label{step-3-choose-a-shape-layer}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# This will throw an error.}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{()}

\CommentTok{\# Error: geom\_point requires the following missing aesthetics: x and y Run \textasciigrave{}rlang::last\_error()\textasciigrave{} to see where the error occurred.}
\end{Highlighting}
\end{Shaded}

\hypertarget{step-4-map-variables-to-aesthetics}{%
\subsection{Step 4: Map Variables to Aesthetics}\label{step-4-map-variables-to-aesthetics}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Start with the required aesthetics: x and y.}
\CommentTok{\# We\textquotesingle{}ll be mapping x to the Visitors column and y to the CasePrice column.}

\NormalTok{mapped\_variables }\OtherTok{\textless{}{-}} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice)}

\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =}\NormalTok{ mapped\_variables)}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-map-aesthetics-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# or, all in one step:}

\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice))}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-map-aesthetics-2.pdf}

Now, we'll add a third variable. We'll also map the Location variable to the \texttt{color} aesthetic.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Start with the required aesthetics: x and y.}
\CommentTok{\# We\textquotesingle{}ll be mapping x to the Visitors column and y to the CasePrice column.}

\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice, }\AttributeTok{color=}\NormalTok{Location))}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-add-color-1.pdf}

\hypertarget{step-5-adjust-the-defaults}{%
\subsection{Step 5: Adjust the Defaults}\label{step-5-adjust-the-defaults}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Changing the default size of all of the points}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size=}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-make-adjustments-1.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Changing the default color of all of the points}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{color=}\StringTok{"blue"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-make-adjustments-2.pdf}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Changing both size and color}
\FunctionTok{ggplot}\NormalTok{(}\AttributeTok{data =}\NormalTok{ vineyards, }\AttributeTok{mapping =} \FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Visitors, }\AttributeTok{y=}\NormalTok{CasePrice)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size=}\DecValTok{5}\NormalTok{, }\AttributeTok{color=}\StringTok{"blue"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{vis4dsr_files/figure-latex/ggplot-make-adjustments-3.pdf}

\hypertarget{inheritance}{%
\section{Inheritance}\label{inheritance}}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-38-1.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-38-2.pdf}

\hypertarget{how-to-debug-code}{%
\section{How to Debug Code}\label{how-to-debug-code}}

\hypertarget{text-data-visualizations}{%
\chapter{Working with textual data in ggplot2}\label{text-data-visualizations}}

Note on cleaning data: use duke\_enrollment (either by status or school) to talk about factors.
Have Semester, which is really a time-based variable. Need to combine with Year
to get the real sequence of enrollment.

\hypertarget{what-is-a-text-variable}{%
\section{What is a text variable?}\label{what-is-a-text-variable}}

\hypertarget{visualizing-text-variables}{%
\section{Visualizing text variables}\label{visualizing-text-variables}}

\hypertarget{common-mappings-for-text-variables}{%
\subsection{Common mappings for text variables}\label{common-mappings-for-text-variables}}

\hypertarget{ordering}{%
\subsection{Ordering}\label{ordering}}

\hypertarget{long-text-labels}{%
\subsection{Long Text Labels}\label{long-text-labels}}

\hypertarget{picking-colors}{%
\subsection{Picking Colors}\label{picking-colors}}

\hypertarget{small-multiples}{%
\subsection{Small Multiples}\label{small-multiples}}

\hypertarget{customizing-visualization-design}{%
\chapter{Customizing the design of ggplot2 visualizations}\label{customizing-visualization-design}}

\hypertarget{common-data-modifications}{%
\section{Common Data Modifications}\label{common-data-modifications}}

\hypertarget{labels}{%
\section{Labels}\label{labels}}

\hypertarget{scales}{%
\section{Scales}\label{scales}}

\hypertarget{themes}{%
\section{Themes}\label{themes}}

\hypertarget{ethical-design-practices}{%
\chapter{Avoiding unethical design practices}\label{ethical-design-practices}}

\hypertarget{due-diligence-for-analysis}{%
\section{Due Diligence for Analysis}\label{due-diligence-for-analysis}}

\begin{itemize}
\tightlist
\item
  If your visualization is making a claim, you need to have investigated other
  explanations of the patterns, have a reasonable certainty that the pattern is
  meaningful, trust/verify that the data were corrected appropriately and are
  appropriate for the analysis you're conducting
\end{itemize}

\hypertarget{promote-dignity-and-agency}{%
\section{Promote Dignity and Agency}\label{promote-dignity-and-agency}}

\begin{itemize}
\tightlist
\item
  Nothing about us without us
\item
  Choosing labels and colors
\item
  Provide sufficient information for users to make their own meaning
\end{itemize}

\hypertarget{reduce-distortion}{%
\section{Reduce Distortion}\label{reduce-distortion}}

\hypertarget{color}{%
\subsection{Color}\label{color}}

\hypertarget{shapes}{%
\subsection{Shapes}\label{shapes}}

\begin{itemize}
\tightlist
\item
  If shape changes in both dimensions (width and height), make sure data is
  represented correctly by area, not just one dimension
\end{itemize}

\hypertarget{truncated-axes}{%
\subsection{Truncated Axes}\label{truncated-axes}}

\hypertarget{compare-like-things}{%
\section{Compare Like Things}\label{compare-like-things}}

\hypertarget{dual-axis}{%
\subsection{Dual Axis}\label{dual-axis}}

\hypertarget{normalizing-raw-data}{%
\subsection{Normalizing Raw Data}\label{normalizing-raw-data}}

\hypertarget{be-true-to-the-data}{%
\section{Be True to the Data}\label{be-true-to-the-data}}

\hypertarget{dont-cherry-pick-data}{%
\subsection{Don't Cherry-Pick Data}\label{dont-cherry-pick-data}}

\hypertarget{matching-data-with-chart-type}{%
\subsection{Matching Data With Chart Type}\label{matching-data-with-chart-type}}

\hypertarget{beware-of-conflicts-of-interest}{%
\subsection{Beware of Conflicts of Interest}\label{beware-of-conflicts-of-interest}}

\hypertarget{check-if-subsets-exhibit-different-patterns-simpsons-paradox}{%
\subsection{Check if subsets exhibit different patterns (Simpson's Paradox)}\label{check-if-subsets-exhibit-different-patterns-simpsons-paradox}}

\hypertarget{careful-binning}{%
\subsection{Careful Binning}\label{careful-binning}}

\hypertarget{proper-citation-and-documentation}{%
\section{Proper Citation and Documentation}\label{proper-citation-and-documentation}}

\hypertarget{transparent-practices}{%
\subsection{Transparent Practices}\label{transparent-practices}}

\hypertarget{print-publications}{%
\chapter{Building ggplot2 visualizations into print publications}\label{print-publications}}

\hypertarget{exporting-ggplot2-visualizations}{%
\section{Exporting ggplot2 Visualizations}\label{exporting-ggplot2-visualizations}}

\hypertarget{using-rmarkdown-to-create-pdf-reports}{%
\section{Using RMarkdown to create PDF reports}\label{using-rmarkdown-to-create-pdf-reports}}

\hypertarget{using-r-packages-to-build-word-and-powerpoint-files}{%
\section{Using R Packages to Build Word and PowerPoint Files}\label{using-r-packages-to-build-word-and-powerpoint-files}}

\hypertarget{accessibility-for-visualizations}{%
\chapter{Basic accessibility for static visualizations}\label{accessibility-for-visualizations}}

\hypertarget{accessible-text-accompanying-the-visualization}{%
\section{Accessible Text Accompanying the Visualization}\label{accessible-text-accompanying-the-visualization}}

\begin{itemize}
\tightlist
\item
  Accessible Font
\item
  Embedded tags/styles
\item
  Large Text
\item
  High Contrast
\end{itemize}

\hypertarget{neurodivergence}{%
\section{Neurodivergence}\label{neurodivergence}}

\begin{itemize}
\tightlist
\item
  Limited Visual Confusion
\end{itemize}

\hypertarget{low-vision}{%
\section{Low Vision}\label{low-vision}}

\begin{itemize}
\item
  Large text

  \begin{itemize}
  \tightlist
  \item
    \href{https://github.com/amzoss/RVis-2Day/blob/master/Day\%201/templates/output-examples.md}{``output-examples'' file}
  \end{itemize}
\item
  High color contrast

  \begin{itemize}
  \item
    Both marks/text on background and labels on marks
  \item
    Check with \href{https://github.com/feddelegrand7/savonliquide}{savonliquide package}
  \end{itemize}
\end{itemize}

\hypertarget{color-vision-deficiency}{%
\section{Color Vision Deficiency}\label{color-vision-deficiency}}

\hypertarget{dual-encoding-never-just-color}{%
\subsection{Dual encoding (never just color)}\label{dual-encoding-never-just-color}}

\begin{itemize}
\item
  Line color -- also vary line type
\item
  Point color -- also vary point shape
\item
  \url{https://www.youtube.com/watch?v=mbi_JVC1arM}
\end{itemize}

\hypertarget{color-palettes}{%
\subsection{Color palettes}\label{color-palettes}}

\begin{itemize}
\tightlist
\item
  \href{http://colorspace.r-forge.r-project.org/index.html}{colorspace package}
\end{itemize}

\hypertarget{screen-reader-users}{%
\section{Screen Reader Users}\label{screen-reader-users}}

\hypertarget{alternative-text}{%
\subsection{Alternative Text}\label{alternative-text}}

In R, R Markdown:

\begin{itemize}
\item
  \href{https://blog.rstudio.com/2021/04/20/knitr-fig-alt/}{fig.alt} in code chunk (new, just for HTML output)
\item
  \href{https://bookdown.org/yihui/rmarkdown/r-code.html}{fig.cap} in code chunk as backup
\item
  embedded images: write alt text between square brackets
\item
  New: ggplot2 v3.3.4 adds \href{https://ggplot2.tidyverse.org/reference/labs.html}{alt option in labs()}, with plans to propagate to Rmd, Shiny
\end{itemize}

\href{https://nightingaledvs.com/writing-alt-text-for-data-visualization/}{Writing good alt text for visualizations}

\hypertarget{longer-descriptions}{%
\subsection{Longer Descriptions}\label{longer-descriptions}}

Longer descriptions: \href{https://github.com/feddelegrand7/savonliquide}{savonliquide package}

\hypertarget{converting-graphics-to-sound-touch-text-table}{%
\subsection{Converting graphics to sound, touch, text, table}\label{converting-graphics-to-sound-touch-text-table}}

\begin{itemize}
\item
  sonify package
\item
  tactileR package
\item
  \href{https://r-resources.massey.ac.nz/BrailleRInAction/GGPlot.html}{BrailleR package}

  \begin{itemize}
  \tightlist
  \item
    Note: set plot title, subtitle, caption using labs()
  \end{itemize}
\end{itemize}

\href{https://jooyoungseo.com/post/ds4blind/}{Accessible Data Science for the Blind Using R}

\hypertarget{accessibility-resources}{%
\section{Accessibility Resources}\label{accessibility-resources}}

\begin{itemize}
\item
  \href{https://github.com/feddelegrand7/savonliquide}{savonliquide package}
\item
  \href{https://bookdown.org/ybrandvain/Applied-Biostats/betteRfigs.html\#accessibility-and-universal-design}{Making betteR figures: Accessibility and Universal Design}
\item
  \href{https://nightingaledvs.com/highlights-from-the-dvs-accessibility-fireside-chat/}{Highlights from the DVS accessibility fireside chat}
\end{itemize}

\hypertarget{interactive-visualizations}{%
\chapter{Exploring interactivity in visualizations with plotly and crosstalk}\label{interactive-visualizations}}

\hypertarget{interactivity-for-exploration}{%
\section{Interactivity for Exploration}\label{interactivity-for-exploration}}

\begin{itemize}
\tightlist
\item
  Components: Picking the right visual elements
\item
  Input: Giving users the right controls

  \begin{itemize}
  \tightlist
  \item
    Can support generalized workflows, custom subsetting, changing parameters, personalizing output
  \end{itemize}
\item
  Layout Arranging everything in the right place
\end{itemize}

\hypertarget{interactive-components}{%
\section{Interactive Components}\label{interactive-components}}

\begin{itemize}
\tightlist
\item
  functionality built in for users to change appearance of chart or what is included/in focus
\end{itemize}

\hypertarget{about-websites-and-html}{%
\subsection{About Websites and HTML}\label{about-websites-and-html}}

\hypertarget{simple-markdown-websites}{%
\subsection{Simple Markdown Websites}\label{simple-markdown-websites}}

\hypertarget{html-widgets}{%
\section{HTML Widgets}\label{html-widgets}}

\hypertarget{plotly}{%
\subsection{Plotly}\label{plotly}}

\hypertarget{datatables}{%
\subsection{DataTables}\label{datatables}}

\hypertarget{crosstalk}{%
\section{CrossTalk}\label{crosstalk}}

\begin{itemize}
\tightlist
\item
  Coordinated Views
\item
  Input Controls
\end{itemize}

\hypertarget{rmarkdown-websites}{%
\chapter{Using RMarkdown to build websites for projects}\label{rmarkdown-websites}}

\emph{move before interactive visualizations? combine?}

\hypertarget{static-websites}{%
\section{Static Websites}\label{static-websites}}

\hypertarget{hosting}{%
\section{Hosting}\label{hosting}}

\hypertarget{associating-a-website-with-an-r-project}{%
\section{Associating a Website with an R Project}\label{associating-a-website-with-an-r-project}}

\hypertarget{rmarkdown-dashboards}{%
\chapter{Using RMarkdown to build dashboards for projects}\label{rmarkdown-dashboards}}

\hypertarget{what-is-a-dashboard}{%
\section{What is a dashboard?}\label{what-is-a-dashboard}}

\hypertarget{using-flexdashboards-to-arrange-components}{%
\section{Using flexdashboards to arrange components}\label{using-flexdashboards-to-arrange-components}}

\hypertarget{blending-crosstalk-with-flexdashboards}{%
\section{Blending Crosstalk with Flexdashboards}\label{blending-crosstalk-with-flexdashboards}}

\hypertarget{basic-dashboard-design}{%
\section{Basic Dashboard Design}\label{basic-dashboard-design}}

\hypertarget{usability-for-visualizations}{%
\chapter{Basic usability for interactive visualizations}\label{usability-for-visualizations}}

\emph{move earlier?}

How to measure usability?

MEELS

\begin{itemize}
\tightlist
\item
  Memorability
\item
  Efficiency
\item
  Errors
\item
  Learnability
\item
  Satisfaction
\end{itemize}

\url{https://www.nngroup.com/articles/usability-101-introduction-to-usability/}

Three independent measures
* Accuracy (Percent Correct)
* Time to Complete Each Scenario
* Satisfaction

\url{https://www.usability.gov/get-involved/blog/2006/03/complete-picture-with-usability-testing.html}

\hypertarget{what-do-users-want-to-do-with-a-dashboard}{%
\section{What do users want to do with a dashboard}\label{what-do-users-want-to-do-with-a-dashboard}}

Typical User Performance Tasks

\begin{itemize}
\item
  Retrieve absolute value: ``What was the price of barrel of oil in February 2015?''
\item
  Retrieve ratio value: ``About what is the ratio of the cost of a sandwich to the
  total cost of room service in Seattle?''
\item
  Find extremum: ``In which country is the average internet speed the fastest?''
\item
  Make comparisons: ``Which metro system has more ridership?''
\item
  Find correlations/trends: ``What is the relationship between the height
  and weight of these individuals?''
\end{itemize}

\url{http://dx.doi.org/10.1109/TVCG.2016.2598920}

Dashboard activities

\begin{itemize}
\tightlist
\item
  Navigation between pages
\item
  Customizing page content with searches, filters
\item
  Locating relevant content
\item
  Reading content and charts
\end{itemize}

Tasks for dashboards
* Check that things are going ok
* Check that a process had completed
* Troubleshoot a problem
* Support a tactical decision
* Decide where to allocate resources
* Try to better understand a complex system

\url{http://www.jeromecukier.net/2015/02/07/dashboards-as-products/}

\hypertarget{conducting-an-initial-user-study}{%
\subsection{Conducting an Initial User Study}\label{conducting-an-initial-user-study}}

\hypertarget{how-to-test-a-dashboard}{%
\section{How to Test a Dashboard}\label{how-to-test-a-dashboard}}

Different things to test

\begin{itemize}
\tightlist
\item
  Tone and style
\item
  Comprehension
\item
  Usefulness
\item
  Readability
\item
  Organization
\item
  Navigation
\item
  Interaction
\item
  Engagement and influence
\end{itemize}

\url{https://www.uxmatters.com/mt/archives/2009/12/testing-content-concepts.php}

\hypertarget{preliminary-questions}{%
\subsection{Preliminary Questions}\label{preliminary-questions}}

\begin{itemize}
\tightlist
\item
  Can act as a warm up before scenarios/tasks
\item
  Good for first impressions
\item
  Avoid leading, closed, or vague questions
\end{itemize}

\url{https://www.nngroup.com/articles/leading-questions/}

Sample Preliminary Questions

Ask: ``Have you heard of {[}site{]}?''
\_\_\_\_Yes \_\_\_\_No

If yes, ask:
``Tell me what you know about them.''

Bring the test participant to {[}site{]}.
Ask:
``Just from looking at this site, what kinds of information do you think you could get from this site? Please be specific.''

Ask: ``Who do you think this site is designed for? Why?''
(Probe: public, health professionals, etc.)

\url{https://www.usability.gov/how-to-and-tools/resources/templates/what-testnote-takers-guide.html}

\hypertarget{second-test-for-first-impressions}{%
\subsection{5-second test for first impressions}\label{second-test-for-first-impressions}}

Evaluating memorability, style, satisfaction

Show the page for only 5 seconds, then ask (e.g.):
* ``What is the purpose of the page?''
* ``What are the main elements you can recall?''
* ``Who do you think the intended audience is?''
* ``Did the design/brand appear trustworthy?''
* ``What was your impression of the design?''

\url{https://fivesecondtest.com/}

\hypertarget{think-aloud-scenarios}{%
\subsection{Think-aloud Scenarios}\label{think-aloud-scenarios}}

Evaluating efficiency, errors, learnability

Present 3-5 Think-Aloud Scenarios

Specific tasks you designed the visualization for, based on initial user testing
* Make the task realistic
* Make the task actionable
* Avoid giving clues and describing the steps

\url{https://www.nngroup.com/articles/thinking-aloud-the-1-usability-tool/}
\url{https://www.nngroup.com/articles/task-scenarios-usability-testing/}

``First click'' testing as a variation

Describe scenario, then ask what participant would click on first
\url{https://www.usability.gov/how-to-and-tools/methods/first-click-testing.html}

\hypertarget{closing-questions}{%
\subsection{Closing Questions}\label{closing-questions}}

Evaluating memorability, style, satisfaction

\begin{itemize}
\tightlist
\item
  What is your overall impression to {[}site{]}?
\item
  What is your impression of the search capability?
\item
  Do you feel this site is current? Why?
\item
  What did you like best about the site?
\item
  What did you like least about the site?
\end{itemize}

\url{https://www.usability.gov/how-to-and-tools/resources/templates/what-testnote-takers-guide.html}

One question to rule them all

Single Ease Question (SEQ)

Overall, this task was?

Very Difficult\ldots Very Easy
(7-point scale)

\url{https://measuringu.com/single-question/}

\hypertarget{teachers-guide}{%
\chapter{Teacher's guide}\label{teachers-guide}}

\emph{sample text}

We talk about the \emph{FOO} method\index{FOO} in this chapter.

\hypertarget{live-coding}{%
\section{Live Coding}\label{live-coding}}

\hypertarget{sample-data}{%
\section{Sample Data}\label{sample-data}}

\cleardoublepage

\hypertarget{appendix-appendix}{%
\appendix \addcontentsline{toc}{chapter}{\appendixname}}


\hypertarget{datasets}{%
\chapter{Datasets}\label{datasets}}

\hypertarget{duke-enrollment}{%
\section*{Duke Enrollment}\label{duke-enrollment}}


\href{https://doi.org/10.7924/r4db82p1j}{Duke enrollment}

Sample of Duke Enrollment By School dataset, Table \ref{tab:duke-school-tab}.

\begin{table}

\caption{\label{tab:duke-school-tab}A sample from the Duke Enrollment By School dataset.}
\centering
\begin{tabular}[t]{rlllllr}
\toprule
Year & Semester & Origin & Region & Sex & School & Count\\
\midrule
1970 & Fall & Alabama & United States & Female & Trinity & 11\\
1970 & Fall & Alabama & United States & Female & Graduate & 7\\
1970 & Fall & Alabama & United States & Female & Divinity & 1\\
1970 & Fall & Alabama & United States & Female & Law & 1\\
1970 & Fall & Alaska & United States & Female & Trinity & 1\\
\addlinespace
1970 & Fall & Alaska & United States & Female & Graduate & 1\\
\bottomrule
\end{tabular}
\end{table}

\hypertarget{bar-chart-1}{%
\subsection*{Bar Chart}\label{bar-chart-1}}


Figure \ref{fig:duke-school-bar}.

\begin{figure}
\includegraphics[width=0.9\linewidth]{vis4dsr_files/figure-latex/duke-school-bar-1} \caption{Total Duke Enrollment by School}\label{fig:duke-school-bar}
\end{figure}

\hypertarget{coral-resilience-data}{%
\section*{Coral Resilience Data}\label{coral-resilience-data}}


\href{https://doi.org/10.7924/G8348HFP}{Protecting coral reefs}

Figure \ref{fig:coral-resilience-point}.

\begin{verbatim}
## Warning: Removed 1 rows containing missing values
## (geom_point).
\end{verbatim}

\begin{figure}
\includegraphics[width=0.9\linewidth]{vis4dsr_files/figure-latex/coral-resilience-point-1} \caption{Log of tissue loss by snail density}\label{fig:coral-resilience-point}
\end{figure}

\hypertarget{git-experience}{%
\section*{Git Experience}\label{git-experience}}


\href{https://osf.io/57tb8/}{A Behavioral Approach to Understanding the Git Experience}

\begin{verbatim}
## Warning: Removed 1 row(s) containing missing values
## (geom_path).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-41-1.pdf}

\begin{verbatim}
## Warning: Removed 3 row(s) containing missing values
## (geom_path).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-41-2.pdf}

\begin{verbatim}
## Joining, by = "system"
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-42-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-1.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-2.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-3.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-4.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-5.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-43-6.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-44-1.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-44-2.pdf}

\begin{verbatim}
## Warning: Removed 15 rows containing non-finite values
## (stat_sum).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-1.pdf}

\begin{verbatim}
## `summarise()` has grouped output by 'year_vcs'. You
## can override using the `.groups` argument.
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-2.pdf}

\begin{verbatim}
## Warning: Removed 9 rows containing non-finite values
## (stat_sum).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-3.pdf}

\begin{verbatim}
## Warning: Removed 3 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-4.pdf}

\begin{verbatim}
## Warning: Removed 15 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-5.pdf}

\begin{verbatim}
## Warning: Removed 15 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-6.pdf}

\begin{verbatim}
## Warning: Removed 3 rows containing missing values
## (geom_tile).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-45-7.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-46-1.pdf}

\hypertarget{inclusiveness-index}{%
\section*{Inclusiveness Index}\label{inclusiveness-index}}


\href{https://belonging.berkeley.edu/inclusivenessindex/data-and-resources}{Inclusiveness Index}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 111 rows containing non-finite values
## (stat_smooth).
\end{verbatim}

\begin{verbatim}
## Warning: Removed 111 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-1.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 109 rows containing non-finite values
## (stat_smooth).
\end{verbatim}

\begin{verbatim}
## Warning: Removed 109 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-2.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing non-finite values
## (stat_smooth).
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-3.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 90 rows containing non-finite values
## (stat_smooth).
\end{verbatim}

\begin{verbatim}
## Warning: Removed 90 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-4.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 90 rows containing non-finite values
## (stat_smooth).
## Removed 90 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-5.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing non-finite values
## (stat_smooth).
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-6.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing non-finite values
## (stat_smooth).
## Removed 113 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-7.pdf}

\begin{verbatim}
## `geom_smooth()` using formula 'y ~ x'
\end{verbatim}

\begin{verbatim}
## Warning: Removed 113 rows containing non-finite values
## (stat_smooth).
## Removed 113 rows containing missing values
## (geom_point).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-8.pdf}

\begin{verbatim}
## Warning: Removed 113 rows containing non-finite values
## (stat_boxplot).
\end{verbatim}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-47-9.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-48-1.pdf}

\hypertarget{candidate-demographics}{%
\section*{Candidate Demographics}\label{candidate-demographics}}


\href{https://wholeads.us/research/rising-tide-ballot-demographics/}{Candidate Demographics}

Includes State, Candidate Name, Candidate Party, Office Name, White/Non-White, Race, Gender, Race/Gender Category, Office Level; 4 years (2012, 2014, 2016, 2018), over 40k records

\hypertarget{affinity-spending}{%
\section*{Affinity Spending}\label{affinity-spending}}


\href{https://github.com/OpportunityInsights/EconomicTracker}{Affinity Spending}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-49-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-50-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-51-1.pdf}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-52-1.pdf}

\hypertarget{vineyards}{%
\section*{Vineyards}\label{vineyards}}


\href{https://dasl.datadescription.com/datafile/vineyards/}{Vineyards}

\includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-1.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-2.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-3.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-4.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-5.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-6.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-7.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-8.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-9.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-10.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-11.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-12.pdf} \includegraphics{vis4dsr_files/figure-latex/unnamed-chunk-53-13.pdf}

  \bibliography{book.bib,packages.bib}

\backmatter
\printindex

\end{document}
